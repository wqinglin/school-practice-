{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Desktop/web1+2/wx1+2/wx-uniapp02/pages/detail/detail.vue?5709","webpack:///C:/Users/Administrator/Desktop/web1+2/wx1+2/wx-uniapp02/pages/detail/detail.vue?0122","webpack:///C:/Users/Administrator/Desktop/web1+2/wx1+2/wx-uniapp02/pages/detail/detail.vue?b8ba","webpack:///C:/Users/Administrator/Desktop/web1+2/wx1+2/wx-uniapp02/pages/detail/detail.vue?4c93","uni-app:///pages/detail/detail.vue","webpack:///C:/Users/Administrator/Desktop/web1+2/wx1+2/wx-uniapp02/pages/detail/detail.vue?77e0","webpack:///C:/Users/Administrator/Desktop/web1+2/wx1+2/wx-uniapp02/pages/detail/detail.vue?1506"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,+F;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AACkN;AAClN,gBAAgB,sNAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,oSAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrDA;AAAA;AAAA;AAAA;AAA80B,CAAgB,6zBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgFl2B;AACA,MADA,kBACA;AACA;AACA,wBADA;AAEA,mBAFA;AAGA,kBAHA;AAIA,sBAJA,EAIA;AACA,oBALA;AAMA,oBANA;AAOA,iBAPA;AAQA,mBARA,EAQA;AACA,kBATA,EASA;AACA,gBAVA,EAUA;AACA,kBAXA,EAWA;AACA,YAZA,EAYA;AACA,sBAbA,EAaA;AACA,kBAdA,EAcA;AACA,YAfA;AAgBA,mBAhBA;AAiBA,sBAjBA;;AAmBA;AACA,oBADA;AAEA,kBAFA,GAnBA;;AAuBA;AACA,oBADA;AAEA,kCAFA;AAGA,qBAHA,GAvBA;;;AA6BA,GA/BA;AAgCA;AACA,qCADA,CACA;;AAEA;AACA;AACA;;AAEA,KAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA;AACA;;AAEA,WAHA,MAGA;AACA;AACA;AACA,SAVA;AAWA;AACA;AACA,KAnBA;AAoBA;AACA;;;;AAIA,GAnEA;;AAqEA;AACA;AACA;;AAEA;AACA,GA1EA;;AA4EA;AACA;AACA,GA9EA;AA+EA;AACA,4BADA;AAEA,gCAFA;AAGA,gCAHA,EA/EA;;;AAqFA;AACA,aADA,qBACA,GADA,EACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KARA,EArFA;;AA+FA;AACA;AACA;AACA;AACA,uBADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAJA;AAKA;AACA;AACA,gCATA,CASA;;AAEA,WAXA;AAYA,SAfA;AAgBA;AACA;AACA,iCADA;AAEA;AACA;AACA;AACA,uCADA;;AAGA,eAJA,MAIA;AACA;AACA;AACA,aAVA;;AAYA,SA7BA;;;AAgCA,KAnCA;AAoCA;AACA,cArCA,sBAqCA,CArCA,EAqCA;AACA;AACA,4BAFA,CAEA;AACA,KAxCA;AAyCA;AACA,cA1CA,wBA0CA;AACA;AACA;AACA;AACA,OAFA,EAEA,GAFA;AAGA,KA/CA;AAgDA,aAhDA,qBAgDA,GAhDA,EAgDA;AACA;AACA,8BADA,IADA;;AAIA;AACA;AACA;AACA;AACA;AACA,mBALA,CAJA;AAUA,KA1DA;AA2DA;AACA;AACA;AACA;AACA;AACA,KAhEA;;AAkEA;AACA;AACA,6BADA;;AAGA,KAtEA;;AAwEA;AACA;AACA;AACA,uBADA;AAEA;AACA;AACA;AACA;AACA;AACA,mCADA;AAEA,8BAFA;;AAIA;AACA,qCADA;;AAGA;;AAEA,WAZA;AAaA,SAhBA;AAiBA;AACA;AACA,iCADA;AAEA;AACA;AACA;AACA,uCADA;;AAGA,eAJA,MAIA;AACA;AACA;AACA,aAVA;;AAYA,SA9BA;;AAgCA,KA1GA;;AA4GA,UA5GA,kBA4GA,KA5GA,EA4GA;AACA;AACA;AACA;AACA;AACA,KAjHA;AAkHA,aAlHA,qBAkHA,CAlHA,EAkHA;AACA,wCADA,CACA;AACA;AACA;;AAEA,KAvHA;;AAyHA;AACA;AACA,sCADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KApIA;;AAsIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,OAVA,EAUA,IAVA;AAWA,KAnJA;;;AAsJA;AACA;AACA;AACA;AACA;;AAEA,OAJA,EAIA,IAJA;AAKA,KA7JA,EA/FA,E;;;;;;;;;;;;;AChFA;AAAA;AAAA;AAAA;AAAuiD,CAAgB,m8CAAG,EAAC,C;;;;;;;;;;;ACA3jD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/detail/detail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/detail/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=3e159eb4&scoped=true&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=3e159eb4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e159eb4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/detail/detail.vue\"\nexport default component.exports","export * from \"-!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=3e159eb4&scoped=true&\"","var components\ntry {\n  components = {\n    uniGoodsNav: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-goods-nav/components/uni-goods-nav/uni-goods-nav\" */ \"@/uni_modules/uni-goods-nav/components/uni-goods-nav/uni-goods-nav.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.courseIntr.coupon, function(item, __i0__) {\n    var $orig = _vm.__get_orig(item)\n\n    var g0 = new Date(item.from_time).toLocaleDateString()\n    var g1 = new Date(item.to_time).toLocaleDateString()\n    return {\n      $orig: $orig,\n      g0: g0,\n      g1: g1\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<!-- 1.  视频-->\r\n\t\t<view class=\"course-img\">\r\n\t\t\t<video :autoplay=\"isPlay\" id=\"myVideo\" :poster=\"poster\" :src=\"videoSrc\" controls></video>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"course-content\">\r\n\t\t\t<!-- 2.1 tab 滚动标题 -->\r\n\t\t\t<view class=\"tab\" :class=\"{'is-fix':isFix}\">\r\n\t\t\t\t<view @click=\"chaTab(0)\" :class=\"{active:tab_index==0}\">介绍</view>\r\n\t\t\t\t<view @click=\"chaTab(1)\" :class=\"{active:tab_index==1}\">目录</view>\r\n\t\t\t\t<view @click=\"chaTab(2)\" :class=\"{active:tab_index==2}\">评价</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 2.2 tab 滚动切换内容 swiper -->\r\n\t\t\t<swiper @change=\"chaSwiper\" :current=\"cur\" :style=\"{height:swiperHeight+'px'}\">\r\n\t\t\t\t<swiper-item>\r\n\t\t\t\t\t<view class=\"intro\">\r\n\t\t\t\t\t\t<courseIntro :intr=\"courseIntr\" @coupon=\"showCoupon\">\r\n\t\t\t\t\t\t</courseIntro>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t\t<swiper-item>\r\n\t\t\t\t\t<view class=\"catalog\">\r\n\t\t\t\t\t\t<courseCatalog :catlogs=\"catlogs\" @getUrl=\"videoUrl\"></courseCatalog>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t\t<swiper-item>\r\n\t\t\t\t\t<view class=\"comment\">\r\n\t\t\t\t\t\t<courseComment :comments=\"courseIntr.comment\"></courseComment>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t</view>\r\n\t\t<!-- 3.购物车 -->\r\n\t\t<view class=\"course-footer\">\r\n\t\t\t<uni-goods-nav :fill=\"true\" :options=\"options\" :buttonGroup=\"buttonGroup\" @click=\"toIndex\"\r\n\t\t\t\t@buttonClick=\"toBuy\" />\r\n\t\t</view>\r\n\r\n\t\t<!-- 领卷层 -->\r\n\t\t<view class=\"popup service\" :class=\"serviceClass\">\r\n\t\t\t<!-- 遮罩层 -->\r\n\t\t\t<view class=\"mask\"></view>\r\n\t\t\t<view class=\"layer\">\r\n\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t<view class=\"box\">\r\n\t\t\t\t\t\t<view ref=\"mycoupon\" class=\"coupon-item\" v-for=\"item in courseIntr.coupon\">\r\n\r\n\t\t\t\t\t\t\t<view class=\"coupon-money\">\r\n\t\t\t\t\t\t\t\t<view class=\"nick\">{{item.coupon_name}}使用</view>\r\n\t\t\t\t\t\t\t\t<view class=\"layof\" :style=\"{color:theme}\">￥{{item.coupon_fee}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"end_time\">\r\n\t\t\t\t\t\t\t\t\t{{new Date(item.from_time).toLocaleDateString()}}-{{new Date(item.to_time).toLocaleDateString()}}前使用\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"demand\">{{item.total_fee}}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<button v-if=\"item.isFlag\" class=\"get-btn\" :disabled=\"true\"\r\n\t\t\t\t\t\t\t\tstyle=\"background:#f60;color:#fff\">已领取</button>\r\n\t\t\t\t\t\t\t<button v-if=\"!item.isFlag\" @click=\"getCoupon(item.id)\" class=\"get-btn isGet\"\r\n\t\t\t\t\t\t\t\tstyle=\"background:#f60;color:#fff\">未领取</button>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"btn\">\r\n\t\t\t\t\t<view class=\"button\" @tap=\"hideCoupon\">完成</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport courseIntro from '../../components/courseIntro.vue'\r\n\timport courseComment from '../../components/courseComment.vue'\r\n\timport courseCatalog from '../../components/courseCatlog.vue'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisSelectCoupon: [],\r\n\t\t\t\ttheme: '#f60',\r\n\t\t\t\tmsg: '领取优惠卷',\r\n\t\t\t\tserviceClass: '', //show  , hide    none弹窗css类，控制开关动画\r\n\t\t\t\tcourseId: null,\r\n\t\t\t\tcourseIntr: '',\r\n\t\t\t\tcatlogs: [],\r\n\t\t\t\tisPlay: false, // 自动播放\r\n\t\t\t\tvideoSrc: '', // 视频路径\r\n\t\t\t\tposter: '', // 视频海报\r\n\t\t\t\ttab_index: 0, // 标题索引\r\n\t\t\t\tcur: 0, //  内容索引\r\n\t\t\t\tswiperHeight: '', // 每隔页面的高度值\r\n\t\t\t\tisFix: false, //菜单的固定定位\r\n\t\t\t\tid: '',\r\n\t\t\t\tscrollTop: '',\r\n\t\t\t\tvideoContext: '',\r\n\r\n\t\t\t\toptions: [{\r\n\t\t\t\t\ticon: 'shop',\r\n\t\t\t\t\ttext: '课程',\r\n\t\t\t\t}],\r\n\t\t\t\tbuttonGroup: [{\r\n\t\t\t\t\ttext: '立即购买',\r\n\t\t\t\t\tbackgroundColor: '#3cc51f',\r\n\t\t\t\t\tcolor: '#fff'\r\n\t\t\t\t}]\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad: function(options) {\r\n\t\t\tthis.courseId = options.courseId; // 接收课程编号\r\n\r\n\t\t\t// 获得已取优惠劵接口,  couponId  存在，修改  (已领取，未领取，变量的状态)\r\n\t\t\tthis.common.post('/api/getCoupon/').then((res) => {\r\n\t\t\t\tthis.isSelectCoupon = res.data;\r\n\r\n\t\t\t})\r\n\t\t\t// 获得课程接口\r\n\t\t\tuni.showLoading();\r\n\t\t\tthis.common.get('/api/getCourseDetail/' + this.courseId).then((res) => {\r\n\t\t\t\tuni.hideLoading();\r\n\t\t\t\tthis.courseIntr = res.data;\r\n\t\t\t\tthis.poster = this.common.getConfig('domainUpload') + res.data.imgurl\r\n\t\t\t\tthis.videoSrc = this.common.getConfig('domainUpload') + res.data.video_src\r\n\t\t\t\tif (this.isSelectCoupon) {\r\n\t\t\t\t\tthis.courseIntr.coupon.filter((item, index, self) => {\r\n\t\t\t\t\t\tlet n = this.isSelectCoupon.some((item2) => {\r\n\t\t\t\t\t\t\treturn item2.couponId == item.id\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tif (n) {\r\n\t\t\t\t\t\t\treturn item.isFlag = true\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn item.isFlag = false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t//console.log(this.courseIntr.coupon);\r\n\t\t\t})\r\n\t\t\t// 第一次调用目录接口\r\n\t\t\tthis.getCatlog();\r\n\r\n\r\n\r\n\t\t},\r\n\r\n\t\tonPageScroll: function(e) {\r\n\t\t\t// 菜单固定定位\r\n\t\t\tthis.scrollTop = e.scrollTop\r\n\r\n\t\t\tthis.getTabTop('tab')\r\n\t\t},\r\n\r\n\t\tonReady: function() {\r\n\t\t\tthis.getSwiperHeight('intro');\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tcourseIntro,\r\n\t\t\tcourseComment,\r\n\t\t\tcourseCatalog\r\n\t\t},\r\n\r\n\t\twatch: {\r\n\t\t\ttab_index(val) { // tab 卡的 索引 tab_index \r\n\t\t\t\t// 调用目录接口\r\n\t\t\t\t// if(val== 1){\r\n\t\t\t\t// \tthis.getCatlog();\r\n\t\t\t\t// }\r\n\t\t\t\tthis.selCal(val);\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetCoupon: function(id) {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t\tkey: 'userInfo',\r\n\t\t\t\t\tsuccess: function(result) {\r\n\t\t\t\t\t\tthat.common.post('/api/storeCoupon/' + id).then((res) => {\r\n\t\t\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\t\t\tthat.courseIntr.coupon.forEach((item, index, self) => {\r\n\t\t\t\t\t\t\t\t\tif (item.id == id) {\r\n\t\t\t\t\t\t\t\t\t\titem.isFlag = true\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tconsole.log(that.courseIntr.coupon);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthat.$forceUpdate(); // 渲染重新劵的循环\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function() {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tcontent: '还没登录?先去登录吧',\r\n\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\turl: '../login/login'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t//服务弹窗\r\n\t\t\tshowCoupon(x) {\r\n\t\t\t\tconsole.log(x);\r\n\t\t\t\tthis.serviceClass = x; // show\r\n\t\t\t},\r\n\t\t\t//关闭服务弹窗\r\n\t\t\thideCoupon() {\r\n\t\t\t\tthis.serviceClass = 'hide';\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.serviceClass = 'none';\r\n\t\t\t\t}, 200);\r\n\t\t\t},\r\n\t\t\tasync getCatlog(val) { // 获得目录的接口\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中'\r\n\t\t\t\t})\r\n\t\t\t\tawait this.common.get('/api/getCourseCatlog/' + this.courseId).then((res) => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t\tthis.catlogs = res.data;\r\n\t\t\t\t\tthis.selCal(val);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tvideoUrl: function(url) {\r\n\t\t\t\tthis.videoSrc = this.common.getConfig('domainUpload') + url\r\n\t\t\t\tthis.videoContext = uni.createVideoContext('myVideo')\r\n\t\t\t\tthis.videoContext.play()\r\n\t\t\t\tthis.isPlay = true\r\n\t\t\t},\r\n\r\n\t\t\ttoIndex: function() {\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: '../index/index'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\ttoBuy: function() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t\tkey: 'userInfo',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tthat.common.post('/api/getPayCourse/' + that.courseId).then((res) => {\r\n\t\t\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\t\t\t//生成订单，获得订单号\r\n\t\t\t\t\t\t\t\tuni.setStorage({ //缓存用户登陆状态\r\n\t\t\t\t\t\t\t\t\tkey: 'courseNoInfo',\r\n\t\t\t\t\t\t\t\t\tdata: res.data\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\turl: '/pages/pay/pay'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function() {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tcontent: '还没登录?先去登录吧',\r\n\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\turl: '../login/login'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tchaTab(index) {\r\n\t\t\t\tthis.tab_index = index\r\n\t\t\t\tthis.cur = index\r\n\t\t\t\t//this.getCatlog();\r\n\t\t\t\t//this.selCal(index) // 获得每页的高度\r\n\t\t\t},\r\n\t\t\tchaSwiper(e) {\r\n\t\t\t\tthis.tab_index = e.detail.current // 当前滚动 内容索引\r\n\t\t\t\t//this.getCatlog();\r\n\t\t\t\t//this.selCal(e.detail.current) // 重新计算高度\r\n\r\n\t\t\t},\r\n\r\n\t\t\tselCal: function(index) {\r\n\t\t\t\tif (index == 0) {\r\n\t\t\t\t\tthis.getSwiperHeight('intro'); //  intro,catalog,comment 类名称，目的拿DOM\r\n\t\t\t\t}\r\n\t\t\t\tif (index == 1) {\r\n\t\t\t\t\tthis.getSwiperHeight('catalog');\r\n\t\t\t\t}\r\n\t\t\t\tif (index == 2) {\r\n\t\t\t\t\tthis.getSwiperHeight('comment');\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tgetTabTop: function(cal) {\r\n\t\t\t\tconst query = uni.createSelectorQuery().in(this);\r\n\t\t\t\tquery.select('.' + cal).boundingClientRect(data => {\r\n\t\t\t\t\t//console.log(data.top);\r\n\t\t\t\t\tif (data.top <= 0) {\r\n\t\t\t\t\t\tthis.isFix = true\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (this.scrollTop <= 205) {\r\n\t\t\t\t\t\tthis.isFix = false\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}).exec();\r\n\t\t\t},\r\n\r\n\r\n\t\t\tgetSwiperHeight: function(cal) {\r\n\t\t\t\tconst query = uni.createSelectorQuery().in(this);\r\n\t\t\t\tquery.select('.' + cal).boundingClientRect(data => { // 获得盒子的坐标  等同于 offsetTop,offsetLeft, \r\n\t\t\t\t\t// top left right bottom widheightth,height\r\n\t\t\t\t\tthis.swiperHeight = data.height + 50\r\n\r\n\t\t\t\t}).exec();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.isGet {\r\n\t\tbackground-color: #FFFFFF !important;\r\n\t\tcolor: #F60 !important;\r\n\t}\r\n\r\n\t.course-img video {\r\n\t\theight: 400rpx;\r\n\t\twidth: 750rpx;\r\n\t}\r\n\r\n\t.tab {\r\n\t\tdisplay: flex;\r\n\t\theight: 84rpx;\r\n\t\twidth: 100%;\r\n\t\tborder-bottom: 2rpx solid #F5F5F5;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\r\n\t.tab view {\r\n\t\twidth: 33.3%;\r\n\t\ttext-align: center;\r\n\t\theight: 84rpx;\r\n\t\tline-height: 84rpx;\r\n\t\tfont-size: medium;\r\n\t}\r\n\r\n\t.active {\r\n\t\tcolor: #4CD964;\r\n\t\tborder-bottom: 2rpx solid #4CD964;\r\n\t}\r\n\r\n\t.is-fix {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tz-index: 999;\r\n\t}\r\n\r\n\t.course-footer {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t\tborder-top: 2rpx solid #F5F5F5;\r\n\t}\r\n\r\n\t@keyframes showPopup {\r\n\t\t0% {\r\n\t\t\topacity: 0;\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes hidePopup {\r\n\t\t0% {\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\topacity: 0;\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes showLayer {\r\n\t\t0% {\r\n\t\t\ttransform: translateY(0);\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\ttransform: translateY(-100%);\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes hideLayer {\r\n\t\t0% {\r\n\t\t\ttransform: translateY(-100%);\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\ttransform: translateY(0);\r\n\t\t}\r\n\t}\r\n\r\n\t.icon {\r\n\t\tfont-size: 26upx;\r\n\t}\r\n\r\n\r\n\t.popup {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tz-index: 20;\r\n\t\tdisplay: none;\r\n\r\n\t\t.mask {\r\n\t\t\tposition: fixed;\r\n\t\t\ttop: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tz-index: 21;\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.6);\r\n\t\t}\r\n\r\n\t\t.layer {\r\n\t\t\tposition: fixed;\r\n\t\t\tz-index: 22;\r\n\t\t\tbottom: -70%;\r\n\t\t\twidth: 92%;\r\n\t\t\tpadding: 0 4%;\r\n\t\t\theight: 70%;\r\n\t\t\tborder-radius: 20upx 20upx 0 0;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\talign-content: space-between;\r\n\r\n\t\t\t.content {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tpadding: 20upx 0;\r\n\t\t\t}\r\n\r\n\t\t\t.btn {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100upx;\r\n\r\n\t\t\t\t.button {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 80upx;\r\n\t\t\t\t\tborder-radius: 40upx;\r\n\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\tbackground-color: #f47952;\r\n\t\t\t\t\tfont-size: 28upx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&.show {\r\n\t\t\tdisplay: block;\r\n\r\n\t\t\t.mask {\r\n\t\t\t\tanimation: showPopup 0.2s linear both;\r\n\t\t\t}\r\n\r\n\t\t\t.layer {\r\n\t\t\t\tanimation: showLayer 0.2s linear both;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&.hide {\r\n\t\t\tdisplay: block;\r\n\r\n\t\t\t.mask {\r\n\t\t\t\tanimation: hidePopup 0.2s linear both;\r\n\t\t\t}\r\n\r\n\t\t\t.layer {\r\n\t\t\t\tanimation: hideLayer 0.2s linear both;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&.none {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\r\n\t\t&.service {\r\n\t\t\t.row {\r\n\t\t\t\tmargin: 30upx 0;\r\n\r\n\t\t\t\t.title {\r\n\t\t\t\t\tfont-size: 30upx;\r\n\t\t\t\t\tmargin: 10upx 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\r\n\t.box {\r\n\t\twidth: 85%;\r\n\t\tmargin: 0 20rpx;\r\n\t}\r\n\r\n\t.coupon-item {\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t\tdisplay: table;\r\n\t\tborder-radius: 10upx;\r\n\t\tpadding: 0 20upx;\r\n\t\tmargin-top: 22upx;\r\n\t\tborder: 1px solid #eeeeee;\r\n\t\tposition: relative;\r\n\r\n\t\t.coupon-money {\r\n\t\t\twidth: 465upx;\r\n\t\t\theight: auto;\r\n\t\t\tdisplay: table;\r\n\t\t\tfloat: left;\r\n\t\t\tpadding: 26upx 0;\r\n\t\t\tborder-style: none dotted none none;\r\n\t\t\tborder-color: #eeeeee;\r\n\r\n\t\t\t.nick {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 50upx;\r\n\t\t\t\tline-height: 30upx;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #999999;\r\n\t\t\t}\r\n\r\n\t\t\t.tit {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 50upx;\r\n\t\t\t\tline-height: 50upx;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #999999;\r\n\t\t\t}\r\n\r\n\t\t\t.demand {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 30upx;\r\n\t\t\t\tline-height: 30upx;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #999999;\r\n\t\t\t}\r\n\r\n\t\t\t.layof {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 48upx;\r\n\t\t\t\tline-height: 30upx;\r\n\t\t\t\tfont-size: 44upx;\r\n\t\t\t\tcolor: #ff9000;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t}\r\n\r\n\t\t\t.end_time {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 30upx;\r\n\t\t\t\tline-height: 30upx;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #999999;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.get-btn {\r\n\t\t\twidth: 146upx;\r\n\t\t\theight: 52upx;\r\n\t\t\tline-height: 50upx;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 50%;\r\n\t\t\tright: 26upx;\r\n\t\t\tmargin-top: -26upx;\r\n\t\t\ttext-align: center;\r\n\t\t\tborder-radius: 60upx;\r\n\t\t\tcolor: #ff9000;\r\n\t\t\tborder: 1px solid #ff9000;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tfloat: right;\r\n\t\t}\r\n\t}\r\n\r\n\t.coupon-item:after {\r\n\t\twidth: 40upx;\r\n\t\theight: 20upx;\r\n\t\tposition: absolute;\r\n\t\tleft: 460upx;\r\n\t\ttop: -1px;\r\n\t\tborder-radius: 0 0 40upx 40upx;\r\n\t\tcontent: \"\";\r\n\t\tdisplay: block;\r\n\t\tbackground: #ffffff;\r\n\t\tborder: 1px solid #eeeeee;\r\n\t\tborder-top: 0px;\r\n\t}\r\n\r\n\t.coupon-item:before {\r\n\t\twidth: 40upx;\r\n\t\theight: 20upx;\r\n\t\tposition: absolute;\r\n\t\tleft: 460upx;\r\n\t\tbottom: -1px;\r\n\t\tborder-radius: 40upx 40upx 0 0;\r\n\t\tcontent: \"\";\r\n\t\tdisplay: block;\r\n\t\tbackground: #ffffff;\r\n\t\tborder: 1px solid #eeeeee;\r\n\t\tborder-bottom: 0px;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&id=3e159eb4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&id=3e159eb4&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1626157619290\n      var cssReload = require(\"C:/Users/Administrator/Downloads/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}